<!DOCTYPE html>
<html>
    <head>
        <title>PizzaApp â€¢ Aiden Gardner 12SDD6</title>
        <link rel="shortcut icon" type="image/jpg" href="images/pizza.png" />
        <style>
            body {
                background-color: #0D1117;
                color: #C9D1D9;
                font-family: "Segoe UI", Helvetica, Arial;
            }

            #versiontable h2 {
                margin-bottom: 0px;
            }

            th {
                border-bottom: 2px solid #C9D1D9;
            }

            tr > :first-child:not(th) {
                border-right: 1px solid #787D82;
            }

            td {
                padding: 5px;
                border-bottom: 1px solid #787D82;
            }
        </style>
    </head>
    <body>
        <h1>&#127829; PizzaApp in VB.NET</h1>
        <p>The repository for this website is available <a href="https://github.com/aiden2480/12A1-PizzaApp">here</a>.</p>

        <table id="versiontable">
            <tr>
                <th>Version name</th>
                <th>Change notes</th>
            </tr>
            <tr id="v1-01-1">
                <!-- The first column in each row is generated via JavaScript -->
                <td>
                    Add stub screen elements for the order including
                    <ul>
                        <li>First/last name</li>
                        <li>Street address and postcode</li>
                        <li>Quantity of pizza orders</li>
                        <li>Crust type (thick/thin/cheesy)</li>
                        <li>Checkboxes for various toppings</li>
                        <li>Cost indicators for the crust type/each of the toppings/total</li>
                    </ul>
                    Also set the tab order for the stubs, ensuring they work as expected for the user
                </td>
            </tr>
            <tr id="v1-01-2">
                <td>
                    Allow argument parsing to construct a <code>PizzaOrder</code> object
                    <ul>
                        <li>
                            <code>PizzaOrder</code> objects can be initialised through the <code>New</code> keyword just like other objects. This saves numerous lines of code space<br>
                            <img src="https://user-images.githubusercontent.com/19619206/140836150-7b0ea75d-3423-4fd6-a7c6-60569c318b1c.png" alt="PizzaOrder initialised through the New keyword" /><br>
                            <img src="https://user-images.githubusercontent.com/19619206/140834695-503f52a9-9d67-46a8-a4e8-1fafb9b243e0.png" alt="Lines saved by new functionality" />
                        </li>
                        <li>Orders are now stored in a <code>List</code> collection, meaning the number of orders can be retreived with <code>orders.Count()</code>, eliminating the need for an <code>ordersCount</code> variable</li>
                        <li>Screen elements were renamed internally from their default values to more accurate descriptions</li>
                    </ul>
                </td>
            </tr>
            <tr id="v1-02-1">
                <td>
                    <ul>
                        <li>Calculate pizza cost as the user edits the fields and checks/unchecks the radio/checkboxes</li>
                        <li>Tooltips were also added on hover for all screen elements to provide more details</li>
                        <li>Readme was updated from the default one, badges and emojis were added for more colour</li>
                    </ul>
                    <img src="https://user-images.githubusercontent.com/19619206/139375156-fc916085-3ba1-42e1-a7ea-cc9767fb7b3b.png" alt="Calculate pizza costs" />
                </td>
            </tr>
            <tr id="v1-02-2">
                <td>
                    The total cost calculations are only updated once the quantity field has been confirmed as valid.<br>
                    An error was occuring where the user would delete the value of the quantity field, causing the calculation<br>
                    event to fire, and the program would break as an empty value could not be converted to an integer.<br>
                    <br>

                    This was mitigated through the use of the <code>IsNumeric</code> function, which means the <code>calculateTotalCost</code><br>
                    function is only run when input can be resolved as valid.
                </td>
            </tr>
        </table>

        <script>
            // TODO URL for version commit changes
            const versions = ["v1.01.1", "v1.01.2", "v1.02.1", "v1.02.2", "v1.02.3", "v1.02.4", "v1.02.5"];
            const regex = /v.+\.(.+)\..+/
            
            versions.forEach((version, index) => {
                let id = version.replaceAll(".", "-")
                let outer = document.getElementById(id);
                if (!outer) return; // Skip if element missing

                // Create elements
                let match = version.match(regex)[1];
                let elem = document.createElement("td");
                let vername = document.createElement("h2");
                let rellink = document.createElement("a");
                let exelink = document.createElement("a");
                let ziplink = document.createElement("a");

                // Apply properties
                vername.innerText = version;
                rellink.href = `https://github.com/aiden2480/12A1-PizzaApp/releases/tag/${version}-PizzaApp`;
                exelink.href = `https://github.com/aiden2480/12A1-PizzaApp/releases/download/${version}-PizzaApp/Pizza1${match}.exe`;
                ziplink.href = `https://github.com/aiden2480/12A1-PizzaApp/archive/refs/tags/${version}-PizzaApp.zip`;

                rellink.innerText = "Releases page"
                exelink.innerText = "Binary download"
                ziplink.innerText = "ZIP version download"

                // Concatonate to node
                elem.appendChild(vername);
                elem.appendChild(rellink);
                elem.innerHTML += "<br>";
                elem.appendChild(exelink);
                elem.innerHTML += "<br>";
                elem.appendChild(ziplink);

                // Append node
                outer.prepend(elem);
            });
        </script>
    </body>
</html>
